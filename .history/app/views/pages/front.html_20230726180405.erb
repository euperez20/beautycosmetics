<!-- app/views/pages/front.html.erb -->
<%= render 'shared/header' %>



<div class="container">
  <%# <h1>Welcome to Beauty Cosmetics</h1> %>

  <h2>Featured Products</h2>
  <div class="row">
    <% @featured_products.each do |product| %>
      <div class="col-md-4">
        <div class="card mb-4">
          <% if product.image.present? %>
            <!-- Show image using the URL -->
            <%= image_tag product.image, class: 'card-img-top' %>
          <% else %>
            <!-- Show a placeholder image if no image is attached or URL provided -->
            <%= image_tag 'generic_image.png', class: 'card-img-top' %>
          <% end %>

          <div class="card-body">
            
            <h5 class="card-title"><%= link_to product.name, product %></h5>
            </h5>

            <p class="card-text"><%= truncate(product.description, length: 100, separator: ' ', omission: '...') %>
            </p>
            <%# <p class="card-text"><%= product.description %>
            <%# </p>  %>

        
          </div>
        </div>
      </div>
        <% end %>





  </div>

  <h4>New Products</h4>

  <div class="row">
    <% @new_products.each do |product| %>
      <div class="col-md-4">
        <div class="card mb-4">
          <% if product.image.present? %>
            <!-- Show image using the URL -->
            <%= image_tag product.image, class: 'card-img-top' %>
          <% else %>
            <!-- Show a placeholder image if no image is attached or URL provided -->
            <%= image_tag 'generic_image.png', class: 'card-img-top' %>
          <% end %>

          <div class="card-body">
            
            <h5 class="card-title"><%= link_to product.name, product %></h5>
            </h5>

            <p class="card-text"><%= truncate(product.description, length: 100, separator: ' ', omission: '...') %>
            </p>
            <%# <p class="card-text"><%= product.description %>
            <%# </p>  %>

        
          </div>
        </div>
      </div>
        <% end %>
  </div>
</div>

<%# testing %>
<h4>New Products</h4>

<div class="row">
  <% @featured_products.each do |product| %>
    <div class="col-md-4">
      <div class="card mb-4">
        <% if product.image.present? %>
          <!-- Show image using the URL -->
          <%= image_tag product.image, class: 'card-img-top' %>
        <% elsif product.image_attachment.attached? %>
          <!-- Show image using Active Storage -->
          <%= image_tag product.image_attachment, class: 'card-img-top' %>
        <% else %>
          <!-- Show a placeholder image if no image is attached or URL provided -->
          <%= image_tag 'generic_image.png', class: 'card-img-top' %>
        <% end %>

        <div class="card-body">
          <h5 class="card-title"><%= link_to product.name, product %></h5>
          <p class="card-text"><%= truncate(product.description, length: 100, separator: ' ', omission: '...') %></p>
        </div>
      </div>
    </div>
  <% end %>
</div>


